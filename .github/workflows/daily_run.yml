name: ETF Arbitrage Monitor

on:
  schedule:
    # ğŸŒŸ UTC 00:50 = åŒ—äº¬æ—¶é—´ 08:50
    # è¿™æ˜¯æ¯å¤©è‡ªåŠ¨å¯åŠ¨çš„æ—¶é—´
    - cron: '50 0 * * 1-5'

  # å…è®¸ä½ æ‰‹åŠ¨ç‚¹å‡»æŒ‰é’®æµ‹è¯•
  workflow_dispatch:

jobs:
  run_monitor:
    runs-on: ubuntu-latest

    # è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œé˜²æ­¢ç¨‹åºå¡æ­»
    timeout-minutes: 365

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
          cache: 'pip' # å¼€å¯ç¼“å­˜ï¼Œå®‰è£…æ›´å¿«

      - name: Install dependencies
        run: |
          pip install -r requirements.txt

      - name: Run Monitor Script
        env:
          # å¼ºåˆ¶è®¾ç½®æ—¶åŒºä¸ºåŒ—äº¬æ—¶é—´
          TZ: 'Asia/Shanghai'
        run: |
          python main.py
